{"version":3,"sources":["../src/map_renderer.js"],"names":[],"mappings":";;;;;;AAGe,WAAS,IAAT,CAAc,KAAd,EAAqB,IAArB,EAA2B,KAA3B,EAAkC,IAAlC,EAAwC;AACrD,QAAM,eAAe,KAAK,IAAL,CAAU,eAAV,CAArB;;AAEA,SAAK,MAAL,CAAY,EAAZ,CAAe,QAAf,EAAyB,YAAM;AAC7B;AACA,WAAK,kBAAL;AACD,KAHD;;AAKA,aAAS,MAAT,GAAkB;AAChB,UAAI,CAAC,KAAK,IAAV,EAAgB;;AAEhB,UAAI,CAAC,KAAK,GAAV,EAAe;AACb,aAAK,GAAL,GAAW,IAAI,QAAJ,CAAa,IAAb,EAAmB,aAAa,CAAb,CAAnB,CAAX;AACD;;AAED,WAAK,GAAL,CAAS,MAAT;;AAEA,UAAI,KAAK,cAAT,EAAyB,KAAK,GAAL,CAAS,cAAT;;AAEzB,UAAI,CAAC,KAAK,GAAL,CAAS,MAAV,IAAoB,KAAK,KAAL,CAAW,UAAnC,EAA+C,KAAK,GAAL,CAAS,YAAT;;AAE/C,WAAK,GAAL,CAAS,WAAT;AACD;AACF;;qBAvBuB,I;;;;AAFjB,c","file":"map_renderer.js","sourcesContent":["import './css/leaflet.css!';\nimport WorldMap from './worldmap';\n\nexport default function link(scope, elem, attrs, ctrl) {\n  const mapContainer = elem.find('.mapcontainer');\n\n  ctrl.events.on('render', () => {\n    render();\n    ctrl.renderingCompleted();\n  });\n\n  function render() {\n    if (!ctrl.data) return;\n\n    if (!ctrl.map) {\n      ctrl.map = new WorldMap(ctrl, mapContainer[0]);\n    }\n\n    ctrl.map.resize();\n\n    if (ctrl.mapCenterMoved) ctrl.map.panToMapCenter();\n\n    if (!ctrl.map.legend && ctrl.panel.showLegend) ctrl.map.createLegend();\n\n    ctrl.map.drawCircles();\n  }\n}\n"]}